(this["webpackJsonpc4-model-visualizer"]=this["webpackJsonpc4-model-visualizer"]||[]).push([[0],{223:function(e,t,n){e.exports=n(470)},469:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(4),o=n.n(c),l=n(19),i=n(475),u=n(474),s=n(476),d=n(477),f=n(205),m=n(206),p=n(220),v=n(478),h={success:"Valid input",error:"Syntax error"},g=function(e){var t=e.type;return t&&r.a.createElement(v.a,{className:"content-status-alert",type:t,message:h[t],showIcon:!0})},b=function(e){var t=e.updateState,n=e.setUpdatingState,c=e.status,o=Object(a.useState)(),i=Object(l.a)(o,2),u=i[0],s=i[1],d=Object(a.useState)(null),f=Object(l.a)(d,2),m=f[0],v=f[1],h=Object(a.createRef)();return Object(a.useEffect)((function(){var e=setTimeout((function(){return u?t(u):null}),0);return function(){return clearTimeout(e)}}),[u]),Object(a.useEffect)((function(){var e;m&&((e=h.current).setSelectionRange.apply(e,Object(p.a)(m)),v(null))}),[m,h]),r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{value:u,className:"text-content-editor",onChange:function(e){var t=e.target.value;s(t),n(!0)},onKeyUp:function(e){var t=e.keyCode,n=e.target;13===t&&s((function(e){var t=n.selectionStart,a=t-1,r=e.slice(e.lastIndexOf("\n",a-1),a).replace(/\n/g,""),c=r.match(/^\s+/),o=":"===(r||":").slice(-1),l=(c||[""])[0].length,i=o?l+2:l,u=t+i;return v([u,u]),e.slice(0,t).concat(" ".repeat(i)).concat(e.slice(t))}))},ref:h}),r.a.createElement(g,{type:c}))},E=n(219),O=n(473),j=["context","container","component","class"],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=j[t];return Object.prototype.hasOwnProperty.call(e,n)&&n},w=j[0],S=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.entries(t[j[n]]||{}).reduce((function(t,r){var c=Object(l.a)(r,2),o=c[0],i=c[1],u=i.name,s=n+1,d=a.concat(o);return y(i,s)&&t.push({key:o,value:d.join(":"),title:"".concat(u," - ").concat(j[s]),children:e(i,s,d)}),t}),[])},x=Object(a.memo)((function(e){var t,n,a=e.parsedYaml,c=e.selectLevel,o=e.value,l=(n=w,w in(t=a)?[{title:"Context",key:n,value:n,children:S(t,0,[n])}]:[]);return r.a.createElement(O.a,{value:o,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:l,placeholder:"Select level",onChange:c,className:"context-selection",treeDefaultExpandAll:!0})})),C=Object(a.memo)((function(e){var t=e.selectLevel,n=e.data,c=e.selectedLevel,o=e.onUpdateError,l=Object(a.useRef)(null),i=function(){return new E.a(j,y,{containerId:"cy",onClick:function(e){var n=e.target.data(),a=n.selectionId;n.hasChild&&t(a)}})};return Object(a.useEffect)((function(){l.current=i()}),[]),Object(a.useEffect)((function(){var e=n.context;if(c){var t=(c||"").split(":"),a=t[t.length-1];try{l.current.update(e,t,a)}catch(r){o(r),l.current=i()}}}),[l,n,c]),r.a.createElement("div",{id:"cy"})})),k=n(13),L=n(472);function U(e){var t=e.updatingContent,n=r.a.createElement(k.a,{type:"loading",style:{fontSize:24},spin:!0});return r.a.createElement(u.a.Sider,{width:"70"},t&&r.a.createElement(L.a,{style:{width:"100%",paddingTop:10},indicator:n}))}var I=[{pattern:/Can not create edge `\w+` with nonexistant target `(\w+)`/,handler:function(e){return'"'.concat(this.pattern.exec(e)[1],'" identifier does not exist')}}],N=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),p=Object(l.a)(o,2),v=p[0],h=p[1],g=Object(a.useState)(null),E=Object(l.a)(g,2),O=E[0],j=E[1],y=Object(a.useState)(!1),S=Object(l.a)(y,2),k=S[0],L=S[1];return r.a.createElement(u.a,{className:"app-layout"},r.a.createElement(U,{updatingContent:k}),r.a.createElement(u.a.Content,null,r.a.createElement(s.a,{type:"flex"},r.a.createElement(d.a,{span:8,className:"sidebar"},r.a.createElement(b,{updateState:function(e){return Object(m.a)(e).then(f.a).then((function(e){c(e),h("success"),j(O||w),L(!1)})).catch((function(){c({}),h("error"),j(null),L(!1)}))},status:v,setUpdatingState:L})),r.a.createElement(d.a,{span:16},r.a.createElement(x,{parsedYaml:n,selectLevel:j,value:O}),r.a.createElement(C,{data:n,selectLevel:j,selectedLevel:O,onUpdateError:function(e){console.error(e),i.a.error(function(e){var t=I.find((function(t){return t.pattern.test(e)}));return t?t.handler(e):"Unknown error"}(e.message))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(468),n(469);o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[223,1,2]]]);
//# sourceMappingURL=main.5addf09b.chunk.js.map